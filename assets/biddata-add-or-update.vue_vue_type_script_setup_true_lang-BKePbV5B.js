import{d as y,a as m,k as D,c as A,B as r,r as s,o as w,A as e,D as I,C as l,E as R,H as k}from"./vlib-DOiUgBZ7.js";import{b as p}from"./index-DVgET6nB.js";const T=y({__name:"biddata-add-or-update",emits:["refreshDataList"],setup(j,{expose:C,emit:b}){const c=b,i=m(!1),d=m(),t=D({id:"",articleId:"",annId:"",siteId:"",firstCode:"",parentId:"",secondCode:"",author:"",cover:"",path:"",pathName:"",title:"",content:"",publishDate:"",districtCode:"",gpCatalogCode:"",gpCatalogName:"",procurementMethodCode:"",procurementMethod:"",bidOpeningTime:"",projectCode:"",projectName:"",districtName:"",districtNameList:"",purchaseName:"",rankCategoryName:"",encryptId:"",invalid:"",invalidDate:"",isRenew:"",announcementType:"",ownerShotDepartmentName:"",budgetPrice:"",supplierName:"",totalContractAmount:"",isReformation:"",isReformationEnglishAnnouncement:"",supportEnglish:"",year:"",monitorAmount:"",smallAmount:"",smallPercent:"",tag:"",typeName:"",areaName:"",sourceUrl:"",isShow:"",creator:"",createDate:"",updater:"",updateDate:""}),x=m({articleId:[{required:!0,message:"必填项不能为空",trigger:"blur"}],annId:[{required:!0,message:"必填项不能为空",trigger:"blur"}],siteId:[{required:!0,message:"必填项不能为空",trigger:"blur"}],firstCode:[{required:!0,message:"必填项不能为空",trigger:"blur"}],parentId:[{required:!0,message:"必填项不能为空",trigger:"blur"}],secondCode:[{required:!0,message:"必填项不能为空",trigger:"blur"}],author:[{required:!0,message:"必填项不能为空",trigger:"blur"}],cover:[{required:!0,message:"必填项不能为空",trigger:"blur"}],path:[{required:!0,message:"必填项不能为空",trigger:"blur"}],pathName:[{required:!0,message:"必填项不能为空",trigger:"blur"}],title:[{required:!0,message:"必填项不能为空",trigger:"blur"}],content:[{required:!0,message:"必填项不能为空",trigger:"blur"}],publishDate:[{required:!0,message:"必填项不能为空",trigger:"blur"}],districtCode:[{required:!0,message:"必填项不能为空",trigger:"blur"}],gpCatalogCode:[{required:!0,message:"必填项不能为空",trigger:"blur"}],gpCatalogName:[{required:!0,message:"必填项不能为空",trigger:"blur"}],procurementMethodCode:[{required:!0,message:"必填项不能为空",trigger:"blur"}],procurementMethod:[{required:!0,message:"必填项不能为空",trigger:"blur"}],bidOpeningTime:[{required:!0,message:"必填项不能为空",trigger:"blur"}],projectCode:[{required:!0,message:"必填项不能为空",trigger:"blur"}],projectName:[{required:!0,message:"必填项不能为空",trigger:"blur"}],districtName:[{required:!0,message:"必填项不能为空",trigger:"blur"}],districtNameList:[{required:!0,message:"必填项不能为空",trigger:"blur"}],purchaseName:[{required:!0,message:"必填项不能为空",trigger:"blur"}],rankCategoryName:[{required:!0,message:"必填项不能为空",trigger:"blur"}],encryptId:[{required:!0,message:"必填项不能为空",trigger:"blur"}],invalid:[{required:!0,message:"必填项不能为空",trigger:"blur"}],invalidDate:[{required:!0,message:"必填项不能为空",trigger:"blur"}],isRenew:[{required:!0,message:"必填项不能为空",trigger:"blur"}],announcementType:[{required:!0,message:"必填项不能为空",trigger:"blur"}],ownerShotDepartmentName:[{required:!0,message:"必填项不能为空",trigger:"blur"}],budgetPrice:[{required:!0,message:"必填项不能为空",trigger:"blur"}],supplierName:[{required:!0,message:"必填项不能为空",trigger:"blur"}],totalContractAmount:[{required:!0,message:"必填项不能为空",trigger:"blur"}],isReformation:[{required:!0,message:"必填项不能为空",trigger:"blur"}],isReformationEnglishAnnouncement:[{required:!0,message:"必填项不能为空",trigger:"blur"}],supportEnglish:[{required:!0,message:"必填项不能为空",trigger:"blur"}],year:[{required:!0,message:"必填项不能为空",trigger:"blur"}],monitorAmount:[{required:!0,message:"必填项不能为空",trigger:"blur"}],smallAmount:[{required:!0,message:"必填项不能为空",trigger:"blur"}],smallPercent:[{required:!0,message:"必填项不能为空",trigger:"blur"}],tag:[{required:!0,message:"必填项不能为空",trigger:"blur"}],typeName:[{required:!0,message:"必填项不能为空",trigger:"blur"}],areaName:[{required:!0,message:"必填项不能为空",trigger:"blur"}],sourceUrl:[{required:!0,message:"必填项不能为空",trigger:"blur"}],isShow:[{required:!0,message:"必填项不能为空",trigger:"blur"}]}),f=u=>{i.value=!0,t.id="",d.value&&d.value.resetFields(),u&&_(u)},_=u=>{p.get("/ztb/biddata/"+u).then(o=>{Object.assign(t,o.data)})},q=()=>{d.value.validate(u=>{if(!u)return!1;(t.id?p.put:p.post)("/ztb/biddata",t).then(o=>{k.success({message:"成功",duration:500,onClose:()=>{i.value=!1,c("refreshDataList")}})})})};return C({init:f}),(u,o)=>{const a=s("el-text"),n=s("el-form-item"),N=s("el-form"),h=s("el-button"),v=s("el-dialog");return w(),A(v,{modelValue:i.value,"onUpdate:modelValue":o[2]||(o[2]=g=>i.value=g),title:t.id?"详情":"新增","close-on-click-modal":!1,"close-on-press-escape":!1},{footer:r(()=>[e(h,{onClick:o[1]||(o[1]=g=>i.value=!1)},{default:r(()=>[I("关闭")]),_:1})]),default:r(()=>[e(N,{model:t,rules:x.value,ref_key:"dataFormRef",ref:d,onKeyup:o[0]||(o[0]=R(g=>q(),["enter"])),"label-width":"150px"},{default:r(()=>[e(n,{label:"文章标题",prop:"title"},{default:r(()=>[e(a,{textContent:l(t.title)},null,8,["textContent"])]),_:1}),e(n,{label:"采购单位名称",prop:"purchaseName"},{default:r(()=>[e(a,{textContent:l(t.purchaseName)},null,8,["textContent"])]),_:1}),e(n,{label:"栏目",prop:"pathName"},{default:r(()=>[e(a,{textContent:l(t.pathName)},null,8,["textContent"])]),_:1}),e(n,{label:"文章正文内容",prop:"content"},{default:r(()=>[e(a,{textContent:l(t.content)},null,8,["textContent"])]),_:1}),e(n,{label:"发布时间",prop:"publishDate"},{default:r(()=>[e(a,{textContent:l(t.publishDate)},null,8,["textContent"])]),_:1}),e(n,{label:"行政区划代码",prop:"districtCode"},{default:r(()=>[e(a,{textContent:l(t.districtCode)},null,8,["textContent"])]),_:1}),e(n,{label:"政府采购目录编码",prop:"gpCatalogCode"},{default:r(()=>[e(a,{textContent:l(t.gpCatalogCode)},null,8,["textContent"])]),_:1}),e(n,{label:"政府采购目录名称",prop:"gpCatalogName"},{default:r(()=>[e(a,{textContent:l(t.gpCatalogName)},null,8,["textContent"])]),_:1}),e(n,{label:"采购方式代码",prop:"procurementMethodCode"},{default:r(()=>[e(a,{textContent:l(t.procurementMethodCode)},null,8,["textContent"])]),_:1}),e(n,{label:"采购方式名称",prop:"procurementMethod"},{default:r(()=>[e(a,{textContent:l(t.procurementMethod)},null,8,["textContent"])]),_:1}),e(n,{label:"开标时间",prop:"bidOpeningTime"},{default:r(()=>[e(a,{textContent:l(t.bidOpeningTime)},null,8,["textContent"])]),_:1}),e(n,{label:"项目编号",prop:"projectCode"},{default:r(()=>[e(a,{textContent:l(t.projectCode)},null,8,["textContent"])]),_:1}),e(n,{label:"项目名称",prop:"projectName"},{default:r(()=>[e(a,{textContent:l(t.projectName)},null,8,["textContent"])]),_:1}),e(n,{label:"行政区划名称",prop:"districtName"},{default:r(()=>[e(a,{textContent:l(t.districtName)},null,8,["textContent"])]),_:1}),e(n,{label:"关联行政区划列表",prop:"districtNameList"},{default:r(()=>[e(a,{textContent:l(t.districtNameList)},null,8,["textContent"])]),_:1}),e(n,{label:"品目分类名称",prop:"rankCategoryName"},{default:r(()=>[e(a,{textContent:l(t.rankCategoryName)},null,8,["textContent"])]),_:1}),e(n,{label:"加密标识",prop:"encryptId"},{default:r(()=>[e(a,{textContent:l(t.encryptId)},null,8,["textContent"])]),_:1}),e(n,{label:"是否失效",prop:"invalid"},{default:r(()=>[e(a,{textContent:l(t.invalid)},null,8,["textContent"])]),_:1}),e(n,{label:"失效时间",prop:"invalidDate"},{default:r(()=>[e(a,{textContent:l(t.invalidDate)},null,8,["textContent"])]),_:1}),e(n,{label:"是否续签",prop:"isRenew"},{default:r(()=>[e(a,{textContent:l(t.isRenew)},null,8,["textContent"])]),_:1}),e(n,{label:"公告类型",prop:"announcementType"},{default:r(()=>[e(a,{textContent:l(t.announcementType)},null,8,["textContent"])]),_:1}),e(n,{label:"主管部门名称",prop:"ownerShotDepartmentName"},{default:r(()=>[e(a,{textContent:l(t.ownerShotDepartmentName)},null,8,["textContent"])]),_:1}),e(n,{label:"预算金额（元）",prop:"budgetPrice"},{default:r(()=>[e(a,{textContent:l(t.budgetPrice)},null,8,["textContent"])]),_:1}),e(n,{label:"供应商名称",prop:"supplierName"},{default:r(()=>[e(a,{textContent:l(t.supplierName)},null,8,["textContent"])]),_:1}),e(n,{label:"合同总金额（元）",prop:"totalContractAmount"},{default:r(()=>[e(a,{textContent:l(t.totalContractAmount)},null,8,["textContent"])]),_:1}),e(n,{label:"是否改革事项",prop:"isReformation"},{default:r(()=>[e(a,{textContent:l(t.isReformation)},null,8,["textContent"])]),_:1}),e(n,{label:"年份",prop:"year"},{default:r(()=>[e(a,{textContent:l(t.year)},null,8,["textContent"])]),_:1}),e(n,{label:"监管金额（元）",prop:"monitorAmount"},{default:r(()=>[e(a,{textContent:l(t.monitorAmount)},null,8,["textContent"])]),_:1}),e(n,{label:"小额采购金额（元）",prop:"smallAmount"},{default:r(()=>[e(a,{textContent:l(t.smallAmount)},null,8,["textContent"])]),_:1}),e(n,{label:"小额采购占比（%）",prop:"smallPercent"},{default:r(()=>[e(a,{textContent:l(t.smallPercent)},null,8,["textContent"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}});export{T as _};
