import{d as b,k as c,x as v,r as o,e as w,o as g,g as x,A as e,B as n,D as d,E as y,f as L,c as k,R as z}from"./vlib-DOiUgBZ7.js";import{u as D}from"./useView-CGRdY_8C.js";import{_ as B}from"./index-DVgET6nB.js";import"./quill-BosuxZz1.js";import"./lodash-DNhsom2x.js";const S={class:"mod-sys__log-error"},H=b({__name:"log-error",setup(I){const i=c({getDataListURL:"/sys/log/error/page",getDataListIsPage:!0,exportURL:"/sys/log/error/export"}),t=c({...D(i),...v(i)}),_=s=>{z.alert(s,"异常信息",{confirmButtonText:"确定"})};return(s,r)=>{const p=o("el-button"),m=o("el-form-item"),u=o("el-form"),a=o("el-table-column"),f=o("el-table"),h=o("el-pagination"),C=w("loading");return g(),x("div",S,[e(u,{inline:!0,model:t.dataForm,onKeyup:r[1]||(r[1]=y(l=>t.getDataList(),["enter"]))},{default:n(()=>[e(m,null,{default:n(()=>[e(p,{type:"info",onClick:r[0]||(r[0]=l=>t.exportHandle())},{default:n(()=>[d("导出")]),_:1})]),_:1})]),_:1},8,["model"]),L((g(),k(f,{data:t.dataList,border:"",onSortChange:t.dataListSortChangeHandle,style:{width:"100%"}},{default:n(()=>[e(a,{prop:"requestUri",label:"请求URI","header-align":"center",align:"center"}),e(a,{prop:"requestMethod",label:"请求方式","header-align":"center",align:"center"}),e(a,{prop:"requestParams",label:"请求参数","header-align":"center",align:"center",width:"150","show-overflow-tooltip":!0}),e(a,{prop:"ip",label:"操作IP","header-align":"center",align:"center"}),e(a,{prop:"userAgent",label:"用户代理","header-align":"center",align:"center",width:"150","show-overflow-tooltip":!0}),e(a,{prop:"createDate",label:"创建时间",sortable:"custom","header-align":"center",align:"center",width:"180"}),e(a,{label:"操作",fixed:"right","header-align":"center",align:"center",width:"150"},{default:n(l=>[e(p,{type:"primary",link:"",onClick:R=>_(l.row.errorInfo)},{default:n(()=>[d("异常信息")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","onSortChange"])),[[C,t.dataListLoading]]),e(h,{"current-page":t.page,"page-sizes":[10,20,50,100],"page-size":t.limit,total:t.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:t.pageSizeChangeHandle,onCurrentChange:t.pageCurrentChangeHandle},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])])}}}),$=B(H,[["__scopeId","data-v-f9a6f39d"]]);export{$ as default};
