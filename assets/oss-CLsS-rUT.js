import{u as V}from"./useView-CGRdY_8C.js";import{_ as w}from"./oss-config.vue_vue_type_script_setup_true_lang-DAS8DWJH.js";import{_ as D}from"./oss-upload.vue_vue_type_script_setup_true_lang-3SYcWL0R.js";import{d as S,a as f,k as m,x,r as o,e as H,o as s,g as z,A as t,B as a,D as d,f as $,c as p,K as C,v as h}from"./vlib-DOiUgBZ7.js";import"./index-DVgET6nB.js";import"./lodash-DNhsom2x.js";import"./quill-BosuxZz1.js";const B={class:"mod-oss__oss"},q=S({__name:"oss",setup(N){const u=f(),g=f(),_=m({getDataListURL:"/sys/oss/page",getDataListIsPage:!0,deleteURL:"/sys/oss",deleteIsBatch:!0,dataForm:{},configVisible:!1,uploadVisible:!1}),e=m({...V(_),...x(_)}),b=()=>{e.configVisible=!0,h(()=>{u.value.init()})},v=()=>{e.uploadVisible=!0,h(()=>{g.value.init()})};return(U,n)=>{const l=o("el-button"),c=o("el-form-item"),y=o("el-form"),i=o("el-table-column"),k=o("el-table"),L=o("el-pagination"),R=H("loading");return s(),z("div",B,[t(y,{inline:!0,model:e.dataForm},{default:a(()=>[t(c,null,{default:a(()=>[t(l,{type:"primary",onClick:n[0]||(n[0]=r=>b())},{default:a(()=>[d("云存储配置")]),_:1})]),_:1}),t(c,null,{default:a(()=>[t(l,{type:"primary",onClick:n[1]||(n[1]=r=>v())},{default:a(()=>[d("上传文件")]),_:1})]),_:1}),t(c,null,{default:a(()=>[t(l,{type:"danger",onClick:n[2]||(n[2]=r=>e.deleteHandle())},{default:a(()=>[d("删除")]),_:1})]),_:1})]),_:1},8,["model"]),$((s(),p(k,{data:e.dataList,border:"",onSelectionChange:e.dataListSelectionChangeHandle,onSortChange:e.dataListSortChangeHandle,style:{width:"100%"}},{default:a(()=>[t(i,{type:"selection","header-align":"center",align:"center",width:"50"}),t(i,{prop:"url",label:"URL地址","header-align":"center",align:"center"}),t(i,{prop:"createDate",label:"创建时间",sortable:"custom","header-align":"center",align:"center",width:"180"}),t(i,{label:"操作",fixed:"right","header-align":"center",align:"center",width:"150"},{default:a(r=>[t(l,{type:"primary",link:"",onClick:F=>e.deleteHandle(r.row.id)},{default:a(()=>[d("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","onSelectionChange","onSortChange"])),[[R,e.dataListLoading]]),t(L,{"current-page":e.page,"page-sizes":[10,20,50,100],"page-size":e.limit,total:e.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:e.pageSizeChangeHandle,onCurrentChange:e.pageCurrentChangeHandle},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"]),e.configVisible?(s(),p(w,{key:0,ref_key:"configRef",ref:u},null,512)):C("",!0),e.uploadVisible?(s(),p(D,{key:1,ref_key:"uploadRef",ref:g,onRefreshDataList:e.getDataList},null,8,["onRefreshDataList"])):C("",!0)])}}});export{q as default};
