import{d as w,k as C,x as D,a as V,r as o,e as x,o as r,g as z,A as a,B as t,D as d,c as p,K as u,E as R,f as $}from"./vlib-DOiUgBZ7.js";import{u as H}from"./useView-CGRdY_8C.js";import{_ as S}from"./params-add-or-update.vue_vue_type_script_setup_true_lang-CoLnfWUb.js";import"./quill-BosuxZz1.js";import"./index-DVgET6nB.js";import"./lodash-DNhsom2x.js";const U={class:"mod-sys__params"},I=w({__name:"params",setup(B){const c=C({getDataListURL:"/sys/params/page",getDataListIsPage:!0,deleteURL:"/sys/params",deleteIsBatch:!0,dataForm:{paramCode:""}}),e=C({...H(c),...D(c)}),g=V(),_=f=>{g.value.init(f)};return(f,n)=>{const y=o("el-input"),m=o("el-form-item"),s=o("el-button"),h=o("el-form"),i=o("el-table-column"),k=o("el-table"),v=o("el-pagination"),L=x("loading");return r(),z("div",U,[a(h,{inline:!0,model:e.dataForm,onKeyup:n[4]||(n[4]=R(l=>e.getDataList(),["enter"]))},{default:t(()=>[a(m,null,{default:t(()=>[a(y,{modelValue:e.dataForm.paramCode,"onUpdate:modelValue":n[0]||(n[0]=l=>e.dataForm.paramCode=l),placeholder:"编码",clearable:""},null,8,["modelValue"])]),_:1}),a(m,null,{default:t(()=>[a(s,{onClick:n[1]||(n[1]=l=>e.getDataList())},{default:t(()=>[d("查询")]),_:1})]),_:1}),a(m,null,{default:t(()=>[e.hasPermission("sys:params:save")?(r(),p(s,{key:0,type:"primary",onClick:n[2]||(n[2]=l=>_())},{default:t(()=>[d("新增")]),_:1})):u("",!0)]),_:1}),a(m,null,{default:t(()=>[e.hasPermission("sys:params:delete")?(r(),p(s,{key:0,type:"danger",onClick:n[3]||(n[3]=l=>e.deleteHandle())},{default:t(()=>[d("删除")]),_:1})):u("",!0)]),_:1})]),_:1},8,["model"]),$((r(),p(k,{data:e.dataList,border:"",onSelectionChange:e.dataListSelectionChangeHandle,style:{width:"100%"}},{default:t(()=>[a(i,{type:"selection","header-align":"center",align:"center",width:"50"}),a(i,{prop:"paramCode",label:"编码","header-align":"center",align:"center"}),a(i,{prop:"paramValue",label:"值","header-align":"center",align:"center"}),a(i,{prop:"remark",label:"备注","header-align":"center",align:"center"}),a(i,{label:"操作",fixed:"right","header-align":"center",align:"center",width:"150"},{default:t(l=>[e.hasPermission("sys:params:update")?(r(),p(s,{key:0,type:"primary",link:"",onClick:b=>_(l.row.id)},{default:t(()=>[d("修改")]),_:2},1032,["onClick"])):u("",!0),e.hasPermission("sys:params:delete")?(r(),p(s,{key:1,type:"primary",link:"",onClick:b=>e.deleteHandle(l.row.id)},{default:t(()=>[d("删除")]),_:2},1032,["onClick"])):u("",!0)]),_:1})]),_:1},8,["data","onSelectionChange"])),[[L,e.dataListLoading]]),a(v,{"current-page":e.page,"page-sizes":[10,20,50,100],"page-size":e.limit,total:e.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:e.pageSizeChangeHandle,onCurrentChange:e.pageCurrentChangeHandle},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"]),a(S,{ref_key:"addOrUpdateRef",ref:g,onRefreshDataList:e.getDataList},null,8,["onRefreshDataList"])])}}});export{I as default};
