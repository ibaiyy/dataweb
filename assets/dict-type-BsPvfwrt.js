import{d as S,u as z,a as v,k as D,x as R,r as o,e as U,o as d,g as x,A as t,B as a,D as s,c,K as m,E as H,f as I,C as N}from"./vlib-DOiUgBZ7.js";import{u as F}from"./useView-CGRdY_8C.js";import{_ as B}from"./dict-type-add-or-update.vue_vue_type_script_setup_true_lang-DXSzkbHw.js";import{_ as P}from"./dict-data.vue_vue_type_script_setup_true_lang-wsLnRDLH.js";import"./quill-BosuxZz1.js";import"./index-DVgET6nB.js";import"./lodash-DNhsom2x.js";import"./dict-data-add-or-update.vue_vue_type_script_setup_true_lang-vuvbC5WX.js";const K={class:"mod-sys__dict"},W=S({__name:"dict-type",setup(O){const T=z(),g=v(!1),f=D({getDataListURL:"/sys/dict/type/page",getDataListIsPage:!0,deleteURL:"/sys/dict/type",deleteIsBatch:!0,dataForm:{id:"0",dictName:"",dictType:""},focusDictTypeId:"",focusDictTypeTitle:""}),e=D({...F(f),...R(f)}),y=p=>{g.value=!0,e.focusDictTypeId=p.id,e.focusDictTypeTitle=`${T.meta.title} - ${p.dictType}`},C=v(),k=p=>{C.value.init(p)};return(p,n)=>{const h=o("el-input"),u=o("el-form-item"),i=o("el-button"),b=o("el-form"),r=o("el-table-column"),w=o("el-table"),L=o("el-pagination"),V=o("el-drawer"),$=U("loading");return d(),x("div",K,[t(b,{inline:!0,model:e.dataForm,onKeyup:n[5]||(n[5]=H(l=>e.getDataList(),["enter"]))},{default:a(()=>[t(u,null,{default:a(()=>[t(h,{modelValue:e.dataForm.dictName,"onUpdate:modelValue":n[0]||(n[0]=l=>e.dataForm.dictName=l),placeholder:"字典名称",clearable:""},null,8,["modelValue"])]),_:1}),t(u,null,{default:a(()=>[t(h,{modelValue:e.dataForm.dictType,"onUpdate:modelValue":n[1]||(n[1]=l=>e.dataForm.dictType=l),placeholder:"字典类型",clearable:""},null,8,["modelValue"])]),_:1}),t(u,null,{default:a(()=>[t(i,{onClick:n[2]||(n[2]=l=>e.getDataList())},{default:a(()=>[s("查询")]),_:1})]),_:1}),t(u,null,{default:a(()=>[e.hasPermission("sys:dict:save")?(d(),c(i,{key:0,type:"primary",onClick:n[3]||(n[3]=l=>k())},{default:a(()=>[s("新增")]),_:1})):m("",!0)]),_:1}),t(u,null,{default:a(()=>[e.hasPermission("sys:dict:delete")?(d(),c(i,{key:0,type:"danger",onClick:n[4]||(n[4]=l=>e.deleteHandle())},{default:a(()=>[s("删除")]),_:1})):m("",!0)]),_:1})]),_:1},8,["model"]),I((d(),c(w,{data:e.dataList,border:"",onSelectionChange:e.dataListSelectionChangeHandle,onSortChange:e.dataListSortChangeHandle,style:{width:"100%"}},{default:a(()=>[t(r,{type:"selection","header-align":"center",align:"center",width:"50"}),t(r,{prop:"dictName",label:"字典名称","header-align":"center",align:"center"}),t(r,{prop:"dictType",label:"字典类型","header-align":"center",align:"center"},{default:a(l=>[t(i,{type:"primary",link:"",onClick:_=>y(l.row)},{default:a(()=>[s(N(l.row.dictType),1)]),_:2},1032,["onClick"])]),_:1}),t(r,{prop:"sort",label:"排序",sortable:"custom","header-align":"center",align:"center"}),t(r,{prop:"remark",label:"备注","header-align":"center",align:"center"}),t(r,{prop:"createDate",label:"创建时间",sortable:"custom","header-align":"center",align:"center",width:"180"}),t(r,{label:"操作",fixed:"right","header-align":"center",align:"center",width:"180"},{default:a(l=>[t(i,{type:"primary",link:"",onClick:_=>y(l.row)},{default:a(()=>[s("字典配置")]),_:2},1032,["onClick"]),e.hasPermission("sys:dict:update")?(d(),c(i,{key:0,type:"primary",link:"",onClick:_=>k(l.row.id)},{default:a(()=>[s("修改")]),_:2},1032,["onClick"])):m("",!0),e.hasPermission("sys:dict:delete")?(d(),c(i,{key:1,type:"primary",link:"",onClick:_=>e.deleteHandle(l.row.id)},{default:a(()=>[s("删除")]),_:2},1032,["onClick"])):m("",!0)]),_:1})]),_:1},8,["data","onSelectionChange","onSortChange"])),[[$,e.dataListLoading]]),t(L,{"current-page":e.page,"page-sizes":[10,20,50,100],"page-size":e.limit,total:e.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:e.pageSizeChangeHandle,onCurrentChange:e.pageCurrentChangeHandle},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"]),t(B,{ref_key:"addOrUpdateRef",ref:C,onRefreshDataList:e.getDataList},null,8,["onRefreshDataList"]),g.value?(d(),c(V,{key:0,modelValue:g.value,"onUpdate:modelValue":n[6]||(n[6]=l=>g.value=l),title:e.focusDictTypeTitle,size:800,"close-on-press-escape":!1,class:"rr-drawer"},{default:a(()=>[t(P,{dictTypeId:e.focusDictTypeId},null,8,["dictTypeId"])]),_:1},8,["modelValue","title"])):m("",!0)])}}});export{W as default};
