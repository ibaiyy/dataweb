import{d as F,a as m,k as U,r as s,o as $,c as q,B as a,A as o,D as b,E as w,H as B}from"./vlib-DOiUgBZ7.js";import{b as p}from"./index-DVgET6nB.js";const I=F({__name:"dict-data-add-or-update",emits:["refreshDataList"],setup(D,{expose:V,emit:_}){const g=_,d=m(!1),n=m(),t=U({id:"",dictTypeId:"",dictLabel:"",dictValue:"",sort:0,remark:""}),v=m({dictLabel:[{required:!0,message:"必填项不能为空",trigger:"blur"}],dictValue:[{required:!0,message:"必填项不能为空",trigger:"blur"}],sort:[{required:!0,message:"必填项不能为空",trigger:"blur"}]}),k=r=>{d.value=!0,t.id="",n.value&&n.value.resetFields(),r&&y(r)},y=r=>{p.get(`/sys/dict/data/${r}`).then(e=>{Object.assign(t,e.data)})},f=()=>{n.value.validate(r=>{if(!r)return!1;(t.id?p.put:p.post)("/sys/dict/data",t).then(e=>{B.success({message:"成功",duration:500,onClose:()=>{d.value=!1,g("refreshDataList")}})})})};return V({init:k,dataForm:t}),(r,e)=>{const i=s("el-input"),u=s("el-form-item"),L=s("el-input-number"),x=s("el-form"),c=s("el-button"),C=s("el-dialog");return $(),q(C,{modelValue:d.value,"onUpdate:modelValue":e[7]||(e[7]=l=>d.value=l),title:t.id?"修改":"新增","close-on-click-modal":!1,"close-on-press-escape":!1},{footer:a(()=>[o(c,{onClick:e[5]||(e[5]=l=>d.value=!1)},{default:a(()=>[b("取消")]),_:1}),o(c,{type:"primary",onClick:e[6]||(e[6]=l=>f())},{default:a(()=>[b("确定")]),_:1})]),default:a(()=>[o(x,{model:t,rules:v.value,ref_key:"dataFormRef",ref:n,onKeyup:e[4]||(e[4]=w(l=>f(),["enter"])),"label-width":"120px"},{default:a(()=>[o(u,{prop:"dictValue",label:"字典值"},{default:a(()=>[o(i,{modelValue:t.dictValue,"onUpdate:modelValue":e[0]||(e[0]=l=>t.dictValue=l),placeholder:"字典值"},null,8,["modelValue"])]),_:1}),o(u,{prop:"dictLabel",label:"字典标签"},{default:a(()=>[o(i,{modelValue:t.dictLabel,"onUpdate:modelValue":e[1]||(e[1]=l=>t.dictLabel=l),placeholder:"字典标签"},null,8,["modelValue"])]),_:1}),o(u,{prop:"sort",label:"排序"},{default:a(()=>[o(L,{modelValue:t.sort,"onUpdate:modelValue":e[2]||(e[2]=l=>t.sort=l),"controls-position":"right",min:0,label:"排序"},null,8,["modelValue"])]),_:1}),o(u,{prop:"remark",label:"备注"},{default:a(()=>[o(i,{modelValue:t.remark,"onUpdate:modelValue":e[3]||(e[3]=l=>t.remark=l),placeholder:"备注"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}});export{I as _};
