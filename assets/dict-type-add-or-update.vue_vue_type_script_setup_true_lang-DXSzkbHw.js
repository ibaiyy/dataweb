import{d as T,a as m,k as F,r as s,o as U,c as $,B as a,A as o,D as _,E as q,H as w}from"./vlib-DOiUgBZ7.js";import{b as p}from"./index-DVgET6nB.js";const H=T({__name:"dict-type-add-or-update",emits:["refreshDataList"],setup(B,{expose:b,emit:g}){const v=g,n=m(!1),d=m(),t=F({id:"",dictName:"",dictType:"",sort:0,remark:""}),V=r=>{n.value=!0,t.id="",d.value&&d.value.resetFields(),r&&y(r)},y=r=>{p.get(`/sys/dict/type/${r}`).then(e=>{Object.assign(t,e.data)})},k=m({dictName:[{required:!0,message:"必填项不能为空",trigger:"blur"}],dictType:[{required:!0,message:"必填项不能为空",trigger:"blur"}],sort:[{required:!0,message:"必填项不能为空",trigger:"blur"}]}),f=()=>{d.value.validate(r=>{if(!r)return!1;(t.id?p.put:p.post)("/sys/dict/type",t).then(e=>{w.success({message:"成功",duration:500,onClose:()=>{n.value=!1,v("refreshDataList")}})})})};return b({init:V}),(r,e)=>{const i=s("el-input"),u=s("el-form-item"),N=s("el-input-number"),x=s("el-form"),c=s("el-button"),C=s("el-dialog");return U(),$(C,{modelValue:n.value,"onUpdate:modelValue":e[7]||(e[7]=l=>n.value=l),title:t.id?"修改":"新增","close-on-click-modal":!1,"close-on-press-escape":!1},{footer:a(()=>[o(c,{onClick:e[5]||(e[5]=l=>n.value=!1)},{default:a(()=>[_("取消")]),_:1}),o(c,{type:"primary",onClick:e[6]||(e[6]=l=>f())},{default:a(()=>[_("确定")]),_:1})]),default:a(()=>[o(x,{model:t,rules:k.value,ref_key:"dataFormRef",ref:d,onKeyup:e[4]||(e[4]=q(l=>f(),["enter"])),"label-width":"120px"},{default:a(()=>[o(u,{prop:"dictName",label:"字典名称"},{default:a(()=>[o(i,{modelValue:t.dictName,"onUpdate:modelValue":e[0]||(e[0]=l=>t.dictName=l),placeholder:"字典名称"},null,8,["modelValue"])]),_:1}),o(u,{prop:"dictType",label:"字典类型"},{default:a(()=>[o(i,{modelValue:t.dictType,"onUpdate:modelValue":e[1]||(e[1]=l=>t.dictType=l),placeholder:"字典类型"},null,8,["modelValue"])]),_:1}),o(u,{prop:"sort",label:"排序"},{default:a(()=>[o(N,{modelValue:t.sort,"onUpdate:modelValue":e[2]||(e[2]=l=>t.sort=l),"controls-position":"right",min:0,label:"排序"},null,8,["modelValue"])]),_:1}),o(u,{prop:"remark",label:"备注"},{default:a(()=>[o(i,{modelValue:t.remark,"onUpdate:modelValue":e[3]||(e[3]=l=>t.remark=l),placeholder:"备注"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}});export{H as _};
