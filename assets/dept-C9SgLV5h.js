import{d as b,k as y,x as L,a as C,r as n,e as D,o,g as R,A as t,B as a,c as l,D as p,K as m,E as x,f as U}from"./vlib-DOiUgBZ7.js";import B from"./dept-add-or-update-BkatMGsz.js";import{u as N}from"./useView-CGRdY_8C.js";import"./quill-BosuxZz1.js";import"./index-DVgET6nB.js";import"./lodash-DNhsom2x.js";const O={class:"mod-sys__dept"},F=b({__name:"dept",setup(V){const c=y({getDataListURL:"/sys/dept/list",deleteURL:"/sys/dept"}),e=y({...N(c),...L(c)}),_=C(),f=u=>{_.value.init(u)};return(u,r)=>{const d=n("el-button"),k=n("el-form-item"),g=n("el-form"),s=n("el-table-column"),h=n("el-table"),v=D("loading");return o(),R("div",O,[t(g,{inline:!0,model:e.dataForm,onKeyup:r[1]||(r[1]=x(i=>e.getDataList(),["enter"]))},{default:a(()=>[t(k,null,{default:a(()=>[e.hasPermission("sys:dept:save")?(o(),l(d,{key:0,type:"primary",onClick:r[0]||(r[0]=i=>f())},{default:a(()=>[p("新增")]),_:1})):m("",!0)]),_:1})]),_:1},8,["model"]),U((o(),l(h,{data:e.dataList,"row-key":"id",border:"",style:{width:"100%"}},{default:a(()=>[t(s,{prop:"name",label:"名称","header-align":"center","min-width":"150"}),t(s,{prop:"parentName",label:"上级部门","header-align":"center",align:"center"}),t(s,{prop:"sort",label:"排序","header-align":"center",align:"center",width:"80"}),t(s,{label:"操作",fixed:"right","header-align":"center",align:"center",width:"150"},{default:a(i=>[e.hasPermission("sys:dept:update")?(o(),l(d,{key:0,type:"primary",link:"",onClick:w=>f(i.row.id)},{default:a(()=>[p("修改")]),_:2},1032,["onClick"])):m("",!0),e.hasPermission("sys:dept:delete")?(o(),l(d,{key:1,type:"primary",link:"",onClick:w=>e.deleteHandle(i.row.id)},{default:a(()=>[p("删除")]),_:2},1032,["onClick"])):m("",!0)]),_:1})]),_:1},8,["data"])),[[v,e.dataListLoading]]),t(B,{ref_key:"addOrUpdateRef",ref:_,onRefreshDataList:e.getDataList},null,8,["onRefreshDataList"])])}}});export{F as default};
